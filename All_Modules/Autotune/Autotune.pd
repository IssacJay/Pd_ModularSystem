#N canvas 78 23 1137 796 10;
#X declare -lib cyclone;
#X obj -54 360 transposition_factor \$1;
#X obj 107 142 hsl 150 15 200 4500 0 0 \$1_autotune_windowsize_slider_s
\$1_autotune_windowsize_slider_r Window_size -2 -8 0 10 -204800 -1
-1 1386 1;
#X floatatom 105 179 5 0 0 0 - #1_autotune_outputpitch -;
#X obj -13 389 autotune_doppler \$1 0 1;
#X obj -12 475 autotune_doppler \$1 0.5 1;
#X obj -13 412 fiddle~;
#N canvas 533 214 504 343 wet 0;
#X obj 139 198 *~;
#X obj 293 198 *~;
#X obj 308 75 r \$1_autotune_mix_slider_s;
#X msg 308 95 \$1 5;
#X obj 138 51 r~ \$1_autotune_dry_signal;
#X obj 296 51 catch~ \$1_autotune_shifters;
#X obj 140 280 +~;
#X obj 140 300 outlet~;
#X obj 308 115 line~;
#X obj 155 167 expr~ 1- $v1;
#X connect 0 0 6 0;
#X connect 1 0 6 1;
#X connect 2 0 3 0;
#X connect 3 0 8 0;
#X connect 4 0 0 0;
#X connect 5 0 1 0;
#X connect 6 0 7 0;
#X connect 8 0 1 1;
#X connect 8 0 9 0;
#X connect 9 0 0 1;
#X restore -12 503 pd wet dry;
#X obj 107 208 hsl 128 15 0 1 0 0 \$1_autotune_mix_slider_s \$1_autotune_mix_slider_r
empty -2 -8 0 10 -204800 -1 -1 12700 1;
#X text 138 179 Autotune Pitch;
#X floatatom 105 162 5 0 0 0 - - -;
#X text 139 162 Dry Pitch;
#X obj -65 108 fiddle~;
#X obj -54 261 inlet~;
#X text 103 194 Dry/Wet;
#X obj 174 12 declare -lib cyclone;
#X obj -12 547 outlet~;
#X obj -35 305 s~ \$1_autotune_dry_signal;
#X obj -65 87 r~ \$1_autotune_dry_signal;
#N canvas 323 61 647 416 Hann 0;
#N canvas 0 23 450 300 (subpatch) 0;
#X array \$1_autotune_hann 512 float 1;
#A 0 0 3.75807e-05 0.000150234 0.000337929 0.000600636 0.000938326
0.00135097 0.00183842 0.0024007 0.00303766 0.00374922 0.00453529 0.00539577
0.00633049 0.00733933 0.00842211 0.00957873 0.010809 0.0121126 0.0134895
0.0149395 0.0164623 0.0180577 0.0197254 0.0214652 0.0232769 0.0251601
0.0271147 0.0291402 0.0312364 0.033403 0.0356396 0.037946 0.0403217
0.0427665 0.0452798 0.0478615 0.050511 0.053228 0.0560121 0.0588629
0.0617798 0.0647626 0.0678107 0.0709237 0.0741011 0.0773424 0.0806472
0.084015 0.0874451 0.0909373 0.0944909 0.0981053 0.10178 0.105515 0.109308
0.113161 0.117071 0.121039 0.125064 0.129145 0.133282 0.137474 0.141721
0.146021 0.150374 0.15478 0.159237 0.163746 0.168305 0.172914 0.177572
0.182279 0.187033 0.191834 0.196682 0.201575 0.206513 0.211494 0.21652
0.221587 0.226697 0.231848 0.237038 0.242269 0.247538 0.252845 0.258189
0.263569 0.268985 0.274435 0.27992 0.285437 0.290987 0.296568 0.302179
0.307821 0.313491 0.319189 0.324914 0.330666 0.336443 0.342244 0.348069
0.353917 0.359787 0.365678 0.371589 0.37752 0.383469 0.389435 0.395418
0.401417 0.40743 0.413457 0.419497 0.42555 0.431613 0.437687 0.44377
0.449862 0.455961 0.462067 0.468178 0.474295 0.480415 0.486538 0.492663
0.498789 0.504915 0.511041 0.517165 0.523286 0.529404 0.535517 0.541625
0.547727 0.553822 0.559909 0.565986 0.572054 0.578111 0.584156 0.590189
0.596207 0.602212 0.608201 0.614174 0.62013 0.626068 0.631987 0.637886
0.643764 0.649621 0.655455 0.661266 0.667053 0.672814 0.67855 0.684259
0.68994 0.695593 0.701216 0.706809 0.712371 0.717902 0.723399 0.728863
0.734293 0.739687 0.745045 0.750367 0.755651 0.760897 0.766103 0.77127
0.776396 0.78148 0.786522 0.791521 0.796476 0.801387 0.806252 0.811072
0.815845 0.82057 0.825248 0.829876 0.834455 0.838984 0.843462 0.847888
0.852262 0.856583 0.860851 0.865064 0.869223 0.873326 0.877373 0.881363
0.885297 0.889172 0.892989 0.896747 0.900445 0.904084 0.907661 0.911178
0.914632 0.918025 0.921354 0.924621 0.927823 0.930962 0.934035 0.937044
0.939987 0.942864 0.945674 0.948418 0.951094 0.953702 0.956243 0.958714
0.961117 0.963451 0.965715 0.967909 0.970033 0.972087 0.974069 0.975981
0.977821 0.979589 0.981285 0.982909 0.98446 0.985939 0.987345 0.988677
0.989936 0.991122 0.992234 0.993272 0.994236 0.995126 0.995941 0.996682
0.997348 0.99794 0.998457 0.998899 0.999266 0.999559 0.999776 0.999918
0.999985 0.999977 0.999894 0.999736 0.999503 0.999195 0.998812 0.998354
0.997822 0.997214 0.996532 0.995776 0.994945 0.994039 0.99306 0.992006
0.990879 0.989678 0.988403 0.987055 0.985634 0.98414 0.982573 0.980934
0.979223 0.97744 0.975585 0.973658 0.971661 0.969593 0.967454 0.965245
0.962966 0.960618 0.9582 0.955714 0.953159 0.950537 0.947846 0.945089
0.942264 0.939373 0.936417 0.933394 0.930307 0.927155 0.923939 0.920659
0.917316 0.913911 0.910443 0.906914 0.903323 0.899673 0.895962 0.892191
0.888362 0.884474 0.880529 0.876527 0.872468 0.868353 0.864183 0.859958
0.855679 0.851346 0.846961 0.842524 0.838036 0.833496 0.828907 0.824268
0.819581 0.814845 0.810063 0.805233 0.800358 0.795438 0.790474 0.785466
0.780415 0.775322 0.770187 0.765012 0.759797 0.754544 0.749252 0.743922
0.738556 0.733154 0.727717 0.722246 0.716742 0.711205 0.705636 0.700037
0.694407 0.688749 0.683061 0.677347 0.671606 0.665839 0.660047 0.654231
0.648392 0.642531 0.636648 0.630745 0.624822 0.61888 0.612921 0.606944
0.600952 0.594944 0.588922 0.582887 0.57684 0.57078 0.56471 0.558631
0.552543 0.546446 0.540343 0.534234 0.528119 0.522001 0.515879 0.509755
0.503629 0.497502 0.491377 0.485252 0.479129 0.47301 0.466895 0.460785
0.45468 0.448583 0.442493 0.436411 0.43034 0.424279 0.418229 0.412191
0.406167 0.400156 0.394161 0.388182 0.382219 0.376274 0.370347 0.364441
0.358554 0.352689 0.346845 0.341025 0.335229 0.329457 0.323711 0.317992
0.312299 0.306635 0.301 0.295395 0.289821 0.284278 0.278767 0.27329
0.267847 0.262438 0.257066 0.251729 0.24643 0.241169 0.235947 0.230765
0.225623 0.220522 0.215463 0.210447 0.205475 0.200546 0.195663 0.190825
0.186033 0.181289 0.176593 0.171945 0.167346 0.162798 0.1583 0.153853
0.149458 0.145116 0.140827 0.136592 0.132412 0.128287 0.124218 0.120205
0.116249 0.11235 0.10851 0.104729 0.101007 0.0973448 0.0937431 0.0902025
0.0867233 0.0833063 0.0799517 0.0766602 0.0734324 0.0702685 0.0671692
0.0641348 0.0611659 0.0582628 0.0554261 0.0526561 0.0499533 0.047318
0.0447507 0.0422518 0.0398216 0.0374604 0.0351687 0.0329468 0.030795
0.0287137 0.0267031 0.0247636 0.0228954 0.0210988 0.0193742 0.0177217
0.0161416 0.0146341 0.0131995 0.011838 0.0105498 0.00933513 0.00819403
0.00712681 0.00613359 0.00521451 0.00436971 0.00359932 0.00290346 0.00228223
0.00173572 0.00126401 0.000867188 0.000545293 0.000298411 0.000126511
;
#X coords 0 1 511 0 200 120 1 0 0;
#X restore 264 120 graph;
#X msg 142 165 0;
#X obj 36 254 osc~;
#X obj 36 277 *~ -0.5;
#X obj 36 300 +~ 0.5;
#X obj 28 143 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X text 369 97 Hann window;
#X obj 28 325 tabwrite~ \$1_autotune_hann;
#X text 130 230 period of windowsize;
#X obj 28 123 loadbang;
#X obj 36 230 expr 44100/512;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 5 0 1 0;
#X connect 5 0 7 0;
#X connect 5 0 10 0;
#X connect 9 0 5 0;
#X connect 10 0 2 0;
#X restore 101 78 pd Hann \$1;
#X obj 13 433 s \$1_autotune_outputpitch;
#X text 102 113 AUTOTUNE;
#X text 102 101 Inlet~;
#X obj -35 280 delwrite~ \$1_autotune_delay 5000;
#X floatatom 265 142 5 0 0 0 - #1_autotune_windowsize_slider_s -;
#N canvas 644 177 787 643 save 0;
#X obj 202 250 textfile;
#X msg 470 188 clear;
#X obj 205 -33 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj -12 177 t b b b;
#X msg 118 208 bang;
#X msg 155 208 rewind;
#X obj 205 -54 r save_parameters;
#X obj -11 103 r recall_parameters;
#X obj 117 -29 loadbang;
#X obj 117 -6 f \$1;
#X obj -12 203 f;
#X obj 204 20 f;
#X obj 4 141 t b f;
#X obj 204 0 t b b b, f 63;
#X obj -11 123 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 490 109 1109 667 save 0;
#X obj 15 412 outlet;
#X obj 8 204 inlet;
#X obj 62 262 f;
#X obj 77 309 pack f f, f 9;
#X msg 77 345 set \$1 \$2;
#X obj 125 273 r \$1_autotune_windowsize_slider_s;
#X obj 79 209 r \$1_autotune_mix_slider_s;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 0 0;
#X connect 5 0 3 1;
#X connect 6 0 2 1;
#X restore 390 129 pd save receives;
#N canvas 619 126 821 694 save 0;
#X obj 37 37 inlet;
#X obj 37 58 unpack f f, f 13;
#X obj 37 110 s \$1_autotune_mix_slider_r;
#X obj 113 79 s \$1_autotune_windowsize_slider_r;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X restore 202 270 pd save sends;
#X msg 204 55 write Autotune_\$1.txt;
#X msg -12 228 read Autotune_\$1.txt;
#X obj -36 85 r \$1_autotune_recallbutton;
#X obj 179 -71 r \$1_autotune_savebutton;
#X connect 0 0 16 0;
#X connect 1 0 0 0;
#X connect 2 0 13 0;
#X connect 3 0 10 0;
#X connect 3 1 4 0;
#X connect 3 2 5 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 2 0;
#X connect 7 0 14 0;
#X connect 8 0 9 0;
#X connect 9 0 11 1;
#X connect 9 0 12 0;
#X connect 10 0 18 0;
#X connect 11 0 17 0;
#X connect 12 0 3 0;
#X connect 12 1 10 1;
#X connect 13 0 11 0;
#X connect 13 1 15 0;
#X connect 13 2 1 0;
#X connect 14 0 3 0;
#X connect 15 0 0 0;
#X connect 17 0 0 0;
#X connect 18 0 0 0;
#X connect 19 0 3 0;
#X connect 20 0 2 0;
#X restore 366 158 pd save mechanism;
#X obj 212 117 bng 15 250 50 0 \$1_autotune_savebutton empty Save 17
7 0 5 -262130 -1 -258113;
#X obj 249 117 bng 15 250 50 0 \$1_autotune_recallbutton empty Recall
17 7 0 5 -262130 -1 -258113;
#X text 178 280 Creates the delay send;
#X text 125 305 Sends the dry signal to fiddle to calculate input pitch.
;
#X text 95 359 Calculates the required rate of change of the delay
time needed to round the input pitch to the nearest whole pitch.;
#X text 135 387 Creates the changing delay time line \, which is hanned.
;
#X text 146 477 Creates the changing delay time line \, which is offset
and hanned for double buffering.;
#X text 305 143 Changes the windowsize;
#X text 181 434 The output pitch is calulated and send the number box
;
#X text 57 504 Wet and dry control subpatch and output bus;
#X text 171 77 Creates the hann window;
#X connect 0 0 3 0;
#X connect 0 0 4 0;
#X connect 3 0 5 0;
#X connect 5 2 19 0;
#X connect 6 0 15 0;
#X connect 11 2 9 0;
#X connect 12 0 0 0;
#X connect 12 0 16 0;
#X connect 12 0 22 0;
#X connect 17 0 11 0;
#X coords 0 -1 1 1 200 130 2 100 100;
