#N canvas 557 43 734 720 10;
#X declare -lib cyclone;
#X obj -569 86 + 1;
#X obj 174 12 declare -lib cyclone;
#X obj 124 434 transposition_factor \$1;
#X obj 106 170 hsl 150 15 -24 24 0 0 \$1_pitchshifter_transposition_slider_s
\$1_pitchshifter_transposition_slider_r Transposition -2 -8 0 10 -261682
-1 -1 0 1;
#X obj 165 486 fiddle~;
#N canvas 533 214 504 343 wet 0;
#X obj 139 198 *~;
#X obj 293 198 *~;
#X msg 308 95 \$1 5;
#X obj 140 280 +~;
#X obj 140 300 outlet~;
#X obj 308 115 line~;
#X obj 155 167 expr~ 1- $v1;
#X obj 138 36 r~ \$1_pitchshifter_dry_signal;
#X obj 296 51 catch~ \$1_pitchshifter_shifters;
#X obj 308 75 r \$1_pitchshifter_mix_slider_s;
#X connect 0 0 3 0;
#X connect 1 0 3 1;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 5 0 1 1;
#X connect 5 0 6 0;
#X connect 6 0 0 1;
#X connect 7 0 0 0;
#X connect 8 0 1 0;
#X connect 9 0 2 0;
#X restore 168 659 pd wet dry;
#X obj 106 207 hsl 128 15 0 1 0 0 \$1_pitchshifter_mix_slider_s \$1_pitchshifter_mix_slider_r
empty -2 -8 0 10 -204800 -1 -1 0 1;
#X obj 124 335 inlet~;
#X text 102 192 Dry/Wet;
#X obj 168 703 outlet~;
#N canvas 0 23 450 300 Hann 0;
#N canvas 0 23 450 300 (subpatch) 0;
#X array \$1_pitchshifter_hann 512 float 1;
#A 0 0 3.76403e-05 0.000150591 0.000338793 0.000602275 0.000940949
0.00135478 0.00184369 0.00240764 0.00304651 0.00376022 0.00454867 0.00541174
0.0063493 0.00736117 0.00844723 0.00960734 0.0108413 0.0121489 0.01353
0.0149843 0.0165117 0.0181119 0.0197847 0.0215298 0.0233469 0.0252359
0.0271963 0.0292279 0.0313304 0.0335035 0.0357469 0.0380601 0.040443
0.042895 0.0454159 0.0480052 0.0506626 0.0533877 0.05618 0.0590392
0.0619648 0.0649563 0.0680134 0.0711355 0.0743222 0.077573 0.0808874
0.0842649 0.0877051 0.0912073 0.0947711 0.0983959 0.102081 0.105826
0.109631 0.113494 0.117416 0.121395 0.125431 0.129524 0.133672 0.137876
0.142134 0.146446 0.150811 0.155229 0.159699 0.16422 0.168792 0.173413
0.178084 0.182803 0.18757 0.192384 0.197244 0.20215 0.2071 0.212095
0.217133 0.222214 0.227337 0.2325 0.237704 0.242948 0.24823 0.25355
0.258907 0.264301 0.26973 0.275194 0.280691 0.286222 0.291785 0.297379
0.303003 0.308658 0.314341 0.320052 0.32579 0.331555 0.337344 0.343159
0.348997 0.354857 0.36074 0.366643 0.372567 0.37851 0.384471 0.390449
0.396444 0.402455 0.40848 0.414519 0.420571 0.426635 0.432709 0.438794
0.444889 0.450991 0.457101 0.463218 0.46934 0.475466 0.481596 0.487729
0.493864 0.5 0.506136 0.512271 0.518404 0.524534 0.53066 0.536782 0.542899
0.549009 0.555111 0.561205 0.56729 0.573365 0.579429 0.585481 0.59152
0.597545 0.603556 0.609551 0.615529 0.62149 0.627433 0.633357 0.63926
0.645143 0.651003 0.656841 0.662656 0.668445 0.67421 0.679948 0.685659
0.691342 0.696997 0.702621 0.708215 0.713778 0.719309 0.724806 0.73027
0.735699 0.741092 0.74645 0.75177 0.757052 0.762295 0.767499 0.772663
0.777786 0.782867 0.787905 0.7929 0.79785 0.802756 0.807616 0.812431
0.817197 0.821916 0.826587 0.831209 0.83578 0.840301 0.844771 0.849189
0.853554 0.857866 0.862124 0.866328 0.870476 0.874569 0.878605 0.882584
0.886506 0.890369 0.894174 0.897919 0.901605 0.905229 0.908793 0.912295
0.915736 0.919113 0.922428 0.925678 0.928865 0.931987 0.935044 0.938036
0.940961 0.94382 0.946613 0.949338 0.951995 0.954585 0.957106 0.959558
0.96194 0.964254 0.966497 0.96867 0.970773 0.972804 0.974765 0.976654
0.978471 0.980216 0.981889 0.983489 0.985016 0.98647 0.987852 0.989159
0.990393 0.991553 0.992639 0.993651 0.994589 0.995452 0.99624 0.996954
0.997593 0.998156 0.998645 0.999059 0.999398 0.999661 0.999849 0.999962
1 0.999962 0.999849 0.999661 0.999398 0.999059 0.998645 0.998156 0.997592
0.996953 0.996239 0.995451 0.994588 0.99365 0.992638 0.991552 0.990392
0.989158 0.987851 0.986469 0.985015 0.983488 0.981887 0.980215 0.978469
0.976652 0.974763 0.972803 0.970771 0.968669 0.966495 0.964252 0.961939
0.959556 0.957104 0.954583 0.951993 0.949336 0.946611 0.943818 0.940959
0.938034 0.935042 0.931985 0.928863 0.925676 0.922425 0.919111 0.915733
0.912293 0.908791 0.905227 0.901602 0.897917 0.894171 0.890367 0.886503
0.882582 0.878602 0.874566 0.870473 0.866325 0.862121 0.857863 0.853551
0.849186 0.844768 0.840298 0.835777 0.831205 0.826584 0.821913 0.817194
0.812427 0.807613 0.802753 0.797847 0.792896 0.787901 0.782863 0.777782
0.77266 0.767496 0.762292 0.757048 0.751766 0.746446 0.741089 0.735695
0.730266 0.724802 0.719305 0.713774 0.708211 0.702617 0.696993 0.691338
0.685655 0.679944 0.674206 0.668441 0.662652 0.656837 0.650999 0.645139
0.639256 0.633353 0.627429 0.621486 0.615525 0.609547 0.603552 0.597541
0.591516 0.585477 0.579425 0.573361 0.567286 0.561201 0.555107 0.549004
0.542894 0.536778 0.530656 0.52453 0.518399 0.512266 0.506131 0.499996
0.49386 0.487725 0.481592 0.475462 0.469335 0.463213 0.457097 0.450987
0.444884 0.43879 0.432705 0.42663 0.420566 0.414515 0.408476 0.40245
0.39644 0.390445 0.384466 0.378505 0.372563 0.366639 0.360736 0.354853
0.348993 0.343155 0.33734 0.331551 0.325786 0.320048 0.314337 0.308654
0.302999 0.297375 0.291781 0.286218 0.280687 0.27519 0.269726 0.264297
0.258904 0.253547 0.248226 0.242944 0.237701 0.232497 0.227333 0.222211
0.21713 0.212092 0.207097 0.202146 0.19724 0.19238 0.187566 0.182799
0.17808 0.17341 0.168788 0.164217 0.159696 0.155226 0.150808 0.146443
0.142131 0.137873 0.133669 0.129521 0.125428 0.121392 0.117413 0.113491
0.109628 0.105823 0.102078 0.0983929 0.0947681 0.0912043 0.0877021
0.084262 0.0808845 0.0775701 0.0743194 0.0711327 0.0680107 0.0649537
0.0619622 0.0590366 0.0561775 0.0533852 0.0506602 0.0480028 0.0454136
0.0428927 0.0404407 0.038058 0.0357447 0.0335014 0.0313284 0.0292259
0.0271944 0.025234 0.0233451 0.0215281 0.019783 0.0181103 0.0165102
0.0149829 0.0135286 0.0121476 0.01084 0.00960615 0.0084461 0.0073601
0.00634828 0.00541082 0.00454783 0.00375944 0.00304583 0.00240701 0.00184315
0.00135431 0.000940561 0.000601947 0.000338584 0.000150442 3.75807e-05
;
#X coords 0 1 511 0 200 120 1 0 0;
#X restore 264 120 graph;
#X msg 142 165 0;
#X obj 36 254 osc~;
#X obj 36 166 samplerate~;
#X obj 36 277 *~ -0.5;
#X obj 36 300 +~ 0.5;
#X text 250 112 1;
#X text 243 230 0;
#X text 259 243 0;
#X obj 28 143 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X text 369 97 Hann window;
#X text 22 16 recalculate Hann;
#X text 57 31 window table;
#X text 27 1 Taken from pd help i02.hann;
#X text 76 229 period of windowsize;
#X text 445 246 Windowsize;
#X obj 28 123 loadbang;
#X obj 36 230 / 512;
#X obj 28 325 tabwrite~ \$1_pitchshifter_hann;
#X connect 1 0 2 1;
#X connect 2 0 4 0;
#X connect 3 0 17 0;
#X connect 4 0 5 0;
#X connect 5 0 18 0;
#X connect 9 0 3 0;
#X connect 9 0 1 0;
#X connect 9 0 18 0;
#X connect 16 0 9 0;
#X connect 17 0 2 0;
#X restore 95 72 pd Hann \$1;
#X text 101 99 Inlet~;
#X floatatom 262 139 5 0 0 0 - #1_pitchshifter_windowsize_slider_s
-;
#N canvas 653 168 787 643 save 0;
#X obj 202 250 textfile;
#X msg 470 188 clear;
#X obj 205 -33 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj -12 177 t b b b;
#X msg 118 208 bang;
#X msg 155 208 rewind;
#X obj 205 -54 r save_parameters;
#X obj -11 103 r recall_parameters;
#X obj 117 -29 loadbang;
#X obj 117 -6 f \$1;
#X obj -12 203 f;
#X obj 204 20 f;
#X obj 4 141 t b f;
#X obj 204 0 t b b b, f 63;
#X obj -11 123 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 331 109 1109 667 save 0;
#X obj 15 412 outlet;
#X obj 8 204 inlet;
#X obj 62 262 f;
#X obj 79 209 r \$1_pitchshifter_mix_slider_s;
#X obj 106 273 r \$1_pitchshifter_windowsize_slider_s;
#X obj 77 309 pack f f f;
#X obj 132 290 r \$1_pitchshifter_transposition_slider_s;
#X msg 77 345 set \$1 \$2 \$3;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 2 1;
#X connect 4 0 5 1;
#X connect 5 0 7 0;
#X connect 6 0 5 2;
#X connect 7 0 0 0;
#X restore 390 129 pd save receives;
#N canvas 619 126 821 694 save 0;
#X obj 37 37 inlet;
#X obj 37 58 unpack f f f, f 13;
#X obj 111 76 s \$1_pitchshifter_transposition_slider_r;
#X obj 73 94 s \$1_pitchshifter_windowsize_slider_r;
#X obj 37 117 s \$1_pitchshifter_mix_slider_r;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 1 1 3 0;
#X connect 1 2 2 0;
#X restore 202 270 pd save sends;
#X msg 204 55 write Pitch_shifter_\$1.txt;
#X msg -12 228 read Pitch_shifter_\$1.txt;
#X obj -36 85 r \$1_pitchshifter_recallbutton;
#X obj 179 -71 r \$1_pitchshifter_savebutton;
#X connect 0 0 16 0;
#X connect 1 0 0 0;
#X connect 2 0 13 0;
#X connect 3 0 10 0;
#X connect 3 1 4 0;
#X connect 3 2 5 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 2 0;
#X connect 7 0 14 0;
#X connect 8 0 9 0;
#X connect 9 0 11 1;
#X connect 9 0 12 0;
#X connect 10 0 18 0;
#X connect 11 0 17 0;
#X connect 12 0 3 0;
#X connect 12 1 10 1;
#X connect 13 0 11 0;
#X connect 13 1 15 0;
#X connect 13 2 1 0;
#X connect 14 0 3 0;
#X connect 15 0 0 0;
#X connect 17 0 0 0;
#X connect 18 0 0 0;
#X connect 19 0 3 0;
#X connect 20 0 2 0;
#X restore 544 232 pd save mechanism;
#X obj 201 118 bng 15 250 50 0 \$1_pitchshifter_savebutton empty Save
17 7 0 5 -262130 -1 -258113;
#X obj 234 118 bng 15 250 50 0 \$1_pitchshifter_recallbutton empty
Recall 17 7 0 5 -262130 -1 -258113;
#X obj 165 463 doppler \$1 0 1;
#X obj 165 549 doppler \$1 0.5 1;
#X text 101 111 PITCH SHIFTER;
#X obj 143 379 s~ \$1_pitchshifter_dry_signal;
#X obj 143 354 delwrite~ \$1_pitchshifter_delay 5000;
#X obj 191 507 s \$1_pitchshifter_outputpitch;
#X obj 106 139 hsl 150 15 200 4500 0 0 \$1_pitchshifter_windowsize_slider_s
\$1_pitchshifter_windowsize_slider_r Window_size -2 -8 0 10 -204800
-1 -1 0 1;
#X floatatom 262 170 5 0 0 0 - #1_pitchshifter_transposition_slider_s
-;
#X obj 265 44 inlet;
#X obj 265 64 cyclone/scale 0 127 -24 24;
#X obj 266 83 s \$1_pitchshifter_transposition_slider_r;
#X text 174 101 Transposition Mod in;
#X connect 2 0 16 0;
#X connect 2 0 17 0;
#X connect 4 2 21 0;
#X connect 5 0 9 0;
#X connect 7 0 2 0;
#X connect 7 0 19 0;
#X connect 7 0 20 0;
#X connect 16 0 4 0;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X coords 0 -1 1 1 200 130 2 100 100;
